<ion-content class="ion-padding custom-background">
  <h1>Aktivitas</h1>

  <!-- Tab -->
  <div class="tab">
    <div class="tab-item" [class.active]="selectedTab === 'riwayat'" (click)="selectedTab = 'riwayat'">
      Riwayat
    </div>
  </div>

  <!-- Daftar Riwayat -->
  <ion-list lines="none" *ngIf="selectedTab === 'riwayat'">
    <ion-item *ngFor="let item of riwayatList" class="transaction-item">
      <ion-thumbnail slot="start">
        <img src="assets/Icon Motor hijau kuning 1.png" alt="transaction-img" />
      </ion-thumbnail>

      <ion-label>
        <h2>{{ item.start_address || '-' }} âžœ {{ item.dest_address || '-' }}</h2>
        <p><strong>Customer:</strong> {{ item.customer_name || 'Tidak diketahui' }}</p>
        <p><strong>Tanggal:</strong> {{ formatTanggal(item.created_at) }}</p>
      </ion-label>

      <ion-text slot="end" color="success">
        <h3>{{ item.total_price | currency: 'IDR':'symbol':'1.0-0' }}</h3>
      </ion-text>
    </ion-item>
  </ion-list>

  <!-- Fallback jika kosong -->
<div *ngIf="!isLoading && isEmpty" class="empty-message">
  <ion-icon name="sad-outline" style="font-size: 40px; color: #555;"></ion-icon>
  <p style="text-align: center; color: #333; font-weight: 500; font-size: 16px;">
    Orderan masih kosong,<br />ayo segeraa ciptakan orderan pertamamu!
  </p>
</div>

</ion-content>
